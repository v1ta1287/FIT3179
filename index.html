<!DOCTYPE html>
<html>
  <head>
    <title>Global Life Expectancy and Population</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.8"></script>
    <!-- Import pure.css -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
      integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ"
      crossorigin="anonymous"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;lang=en"
    />

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="styles.css" media="all" />
  </head>
  <body>
    <div class="page">
      <!-- pure grid group -->
      <div class="section">
        <div class="pure-g">
          <div class="pure-u-1-1">
            <h1></h1>
            <h1>Global life expectancy and population</h1>
            <h2>A visualisation by Andy Zhong</h2>
          </div>
        </div>
      </div>
      <!-- end pure grid group -->

      <!-- pure grid group -->
      <div class="section">
        <h3>A snapshot of the world</h3>
        <div class="pure-g">
          <div class="pure-u-1-1">
            <div id="map" class="vis-container"></div>
          </div>
          <div class="pure-u-1-1">
            <p>
              The global life expectancy varies drastically around the world,
              even in the modern era. From the map we can see that
              <span class="developed"
                >Europe, North America, Australia and East Asia</span
              >
              have relatively high life expectancies, while
              <span class="undeveloped">Africa and South Asia</span> have
              relatively low life expectancies. We can also see that the range
              of life expectancy is 60-80 for most countries, although there are
              some exceptions at both extremes of this range.
            </p>
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-12-24">
            <div id="bar" class="vis-container"></div>
          </div>
          <div class="pure-u-12-24">
            <div id="bar2" class="vis-container"></div>
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-12-24">
            <p>
              If we look at the average life expectancy across continents, we
              see that <span class="europe">Europe</span> has had the highest
              life expectancy for the last 3 decades.
              <span class="bolded"
                >(HINT: you can scroll through the years using the filter
                bar)</span
              >
              <br /><br />
              <span class="africa">Africa</span> has the lowest average life
              expectancy out of all continents, but also had the largest
              increase over time. <span class="asia">Asia</span> and
              <span class="oceania">Oceania</span> also see an increase in life
              expectancy over this period.
            </p>
          </div>
          <div class="pure-u-12-24">
            <p>
              From this bar chart we can see that
              <span class="asia">Asia</span> contains the countries with the
              highest average population, and this trend has lasted for the last
              30 years with no end in sight. <br /><br />
              Countries in <span class="oceania">Oceania</span> have the lowest
              average population, which is not too surprising when you consider
              that most of these countries are island nations.
            </p>
          </div>
        </div>
      </div>

      <!-- Start section -->
      <div class="section">
        <h3>How has the world changed over time?</h3>
        <div class="pure-g">
          <div class="pure-u-16-24">
            <div id="line" class="vis-container"></div>
          </div>
          <div class="pure-u-6-24">
            <div class="description description-right">
              <p>
                The line chart shows us that from
                <span class="bolded">1990-2019</span> life expectancy has been
                increasing.<br /><br />
                Out of every continent, <span class="africa">Africa</span> has
                had the largest increase as it has the steepest gradient.
                <br /><br />
                From <span class="bolded">2019-2021</span> there has been a
                decrease in life expectancy, most likely due to COVID-19.
              </p>
            </div>
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-16-24">
            <div id="area" class="vis-container"></div>
          </div>
          <div class="pure-u-6-24">
            <div class="description description-right">
              <p>
                The line chart shows us that from
                <span class="bolded">1990-2020</span>
                population has been increasing. <br /><br />
                <span class="africa">Africa's population</span> exceeds
                <span class="europe">Europe</span> in
                <span class="bolded">1995</span> and
                <span class="america">America</span> in
                <span class="bolded">2002.</span> <br /><br />
                The global population goes from slightly above
                <span class="bolded">5 billion</span> to almost
                <span class="bolded">8 billion</span> in just the last 30 years.
                <br /><br />
                <span class="bolded"
                  >(HINT: G in the Y axis stands for billion)</span
                >
              </p>
            </div>
          </div>
        </div>
      </div>
      <!-- End section -->

      <!-- Start section -->
      <div class="section">
        <h3>What factors affect life expectancy?</h3>
        <div class="pure-g">
          <div class="pure-u-24-24">
            <div id="bubble" class="vis-container"></div>
          </div>
          <div class="pure-u-1-1">
            <p>
              Wealth is a good predictor of quality of life, but is it also a
              good predictor of life expectancy? <br />
              We can see a general trend with countries that are wealthier
              (higher <span class="bolded">GDP per Capita</span>) have a higher
              <span class="bolded">life expectancy</span>. Using the
              <span class="bolded">continent selection menu</span>, we see that
              <span class="america">American</span> and
              <span class="europe">European</span> countries are wealthier and
              hence have a higher life expectancy, while
              <span class="africa">African</span>
              countries are generally poor with a low life expectancy. Using the
              <span class="bolded">minimum population scroller</span>, we find
              that population is not tied with wealth or life expectancy, as
              there is an even distribution of points for all populations.
            </p>
          </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-24-24">
            <div id="parallel" class="vis-container"></div>
          </div>
          <div class="pure-u-1-1">
            <p>
              The overall health factors of a country plays a huge role in life
              expectancy. <span class="bolded">Infant mortality</span> and
              <span class="bolded">maternal mortality ratio</span> can tell us a
              lot about the quality of a country's health system. The
              <span class="bolded">ratio of doctors</span> in a country is also
              an indicator of how healthy a country is. From the graph above, we
              can see that countries with
              <span class="bolded">higher life expectancies</span> have both
              <span class="bolded">lower infant mortality rates</span> and
              <span class="bolded">lower maternal mortality ratios</span>.
              <span class="africa">African</span> countries generally have the worst
              health care based on these indicators while
              <span class="europe">European</span>
              have the best. 
            </p>
          </div>
        </div>
      </div>
      <!-- End section -->
    </div>
    <!-- end page -->
    <script>
      const map = "visualisations/map.vg.json";
      const bubble = "visualisations/bubble.vg.json";
      const parallel = "visualisations/parallel.vg.json";
      const line = "visualisations/line.vg.json";
      const area = "visualisations/area.vg.json";
      const bar = "visualisations/barchart.vg.json";
      const bar2 = "visualisations/barchart2.vg.json";
      vegaEmbed("#map", map, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#bubble", bubble, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#parallel", parallel, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#line", line, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#area", area, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#bar", bar, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
      vegaEmbed("#bar2", bar2, { mode: "vega-lite", actions: false })
        .then(console.log)
        .catch(console.warn);
    </script>
  </body>
</html>
